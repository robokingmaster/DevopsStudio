jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      # ... your build steps ...

    # ‚úÖ Send email on success
    - name: Send Success Email
      if: success()
      uses: dawidd6/action-send-mail@v3
      with:
        server_address: smtp.gmail.com
        server_port: 587
        username: ${{ secrets.EMAIL_USERNAME }}
        password: ${{ secrets.EMAIL_PASSWORD }}
        subject: "‚úÖ Build Succeeded: ${{ github.workflow }} #${{ github.run_number }}"
        to: ${{ secrets.EMAIL_RECIPIENT }}
        from: ${{ secrets.EMAIL_USERNAME }}
        body: |
          üéâ The build completed successfully!
          - Workflow: ${{ github.workflow }}
          - Run Number: ${{ github.run_number }}
          - Commit: ${{ github.sha }}
          - Actor: ${{ github.actor }}
          - Logs: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}

    # ‚ùå Send email on failure
    - name: Send Failure Email
      if: failure()
      uses: dawidd6/action-send-mail@v3
      with:
        server_address: smtp.gmail.com
        server_port: 587
        username: ${{ secrets.EMAIL_USERNAME }}
        password: ${{ secrets.EMAIL_PASSWORD }}
        subject: "‚ùå Build Failed: ${{ github.workflow }} #${{ github.run_number }}"
        to: ${{ secrets.EMAIL_RECIPIENT }}
        from: ${{ secrets.EMAIL_USERNAME }}
        body: |
          üö® The build has failed.
          - Workflow: ${{ github.workflow }}
          - Run Number: ${{ github.run_number }}
          - Commit: ${{ github.sha }}
          - Actor: ${{ github.actor }}
          - Logs: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}
